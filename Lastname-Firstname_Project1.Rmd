---
title: "Schoonmaker-Nicolas_Project1"
author: "Nicolas Schoonmaker"
date: "1/25/2020"
output:
  pdf_document: default
  html_document: default
---

```{r Chunk setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r Packages}
# Install packages
#install.packages("xtable")
#install.packages("dplyr")
#install.packages("rstudioapi")
library(xtable)
library(dplyr)
library(rstudioapi)
```

```{r Get current directory}
# Get the directory so we can run this from anywhere
# Get the script directory from R when running in R
script.path <- rstudioapi::getActiveDocumentContext()$path
(script.path)
script.dir <- dirname(script.path)
if(!dir.exists(script.dir))
{
  # Get the script directory from the command line if running outside of R
  script.dir <- dirname(sys.frame(1)$ofile)
}
(script.dir)
```

```{r Working Directory and Data setup}
# Set my working directory
# There is a "data" folder here with the files and the script
setwd(script.dir)
# Double check the working directory
getwd()
# Error check to ensure the working directory is set up and the data directory exists inside it.  Its required for this file
if(dir.exists(paste(getwd(),"/data", sep = "")) == FALSE) {
  stop("Data directory does not exist. Make sure the working directory is set using setwd() and the data folder exists in it.")
} else {
  print("Working directory and data set up correctly")
}
```

# Part 1: HO2 data preparation and exploration
## In this set we will build a data set using filters and `if` and `diff` statements. We will then answer some questions using plots and a pivot table report. We will then write a function to house our approach in case we would like to run the same analysis on other data sets.

## Problem
## Supply chain managers at our company continue to note we have a significant exposure to heating oil prices (Heating Oil No. 2, or HO2), specifically New York Harbor. The exposure hits the variable cost of producing several products. When HO2 is volatile, so is earnings. Our company has missed earnings forecasts for five straight quarters. To get a handle on HO2 we download this data set and review some basic aspects of the prices. 

```{r Part - Question 1}
# Read in data
# package EIAdata
#
HO2 <- read.csv("data/nyhh02.csv", header = T, stringsAsFactors = F)
# stringsAsFactors sets dates as character type
head(HO2)
HO2 <- na.omit(HO2) ## to clean up any missing data
# use na.approx() as well
str(HO2) # review the structure of the data so far
```

## Question 2 - title
## (INSERT explanatory text here)
```{r Part Question 2}
getwd()
```

# Part 2: HO2 analysis
## (INSERT explanatory text here)
## Further questions as needed
## (INSERT explanatory text here)
```{r Part II}
?getwd
getwd()
```
